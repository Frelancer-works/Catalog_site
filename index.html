<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>–ö–∞—Ç–∞–ª–æ–≥ —Å—Ç—Ä–æ–π–æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è ‚Äî –ø—Ä–µ–≤—å—é (GSAP + React)</title>

  <!-- Tailwind (CDN) -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- React 18 UMD + Babel (–¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø—Ä–µ–≤—å—é –±–µ–∑ —Å–±–æ—Ä–∫–∏) -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script crossorigin src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <!-- GSAP + ScrollTrigger -->
  <script src="https://unpkg.com/gsap@3/dist/gsap.min.js"></script>
  <script src="https://unpkg.com/gsap@3/dist/ScrollTrigger.min.js"></script>

  <meta name="color-scheme" content="light">
  <style>
    html, body { height: 100%; }
    body { background: #fff; }
    /* –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ —Å—Ç–∏–ª–∏ –Ω–∞ —Å–ª—É—á–∞–π –∑–∞–¥–µ—Ä–∂–∫–∏ CDN */
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    // === Globals ===
    const { useState, useEffect, useMemo, useRef } = React;
    const { gsap } = window;
    const { ScrollTrigger } = window;

    gsap.registerPlugin(ScrollTrigger);

    // ===== MOCK DATA =====
    const categories = [
      { id: "drilling", label: "–ê–ª–º–∞–∑–Ω–æ–µ —Å–≤–µ—Ä–ª–µ–Ω–∏–µ" },
      { id: "cutting", label: "–†–µ–∑–∫–∞/–®–ª–∏—Ñ–æ–≤–∫–∞" },
      { id: "concrete", label: "–ë–µ—Ç–æ–Ω/–†–∞—Å—Ç–≤–æ—Ä" },
      { id: "welding", label: "–°–≤–∞—Ä–∫–∞" },
      { id: "scaffold", label: "–õ–µ—Å–∞/–í—ã—à–∫–∏" },
      { id: "formwork", label: "–û–ø–∞–ª—É–±–∫–∞" },
      { id: "consumables", label: "–†–∞—Å—Ö–æ–¥–Ω–∏–∫–∏" },
    ];

    const BRANDS = ["Hilti","Makita","DeWalt","Bosch","Husqvarna","Metabo","–ó–£–ë–†","–í–∏—Ö—Ä—å"];

    const ITEMS = [
      { id:1, name:"–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∞–ª–º–∞–∑–Ω–æ–≥–æ –±—É—Ä–µ–Ω–∏—è DME-200", category:"drilling", sku:"DME200-001", brand:"Husqvarna", retailPrice:184900, b2bPrice:167900, badges:["–•–∏—Ç"] },
      { id:2, name:"–û—Ç—Ä–µ–∑–Ω–∞—è –º–∞—à–∏–Ω–∞ –±–µ–Ω–∑–∏–Ω–æ–≤–∞—è K770", category:"cutting", sku:"K770-125", brand:"Husqvarna", retailPrice:129900, b2bPrice:118900, badges:["–¢–æ–ø-–≤—ã–±–æ—Ä"] },
      { id:3, name:"–ú–∏–∫—Å–µ—Ä –¥–ª—è —Ä–∞—Å—Ç–≤–æ—Ä–∞ 1600–í—Ç", category:"concrete", sku:"MIX-1600", brand:"–ó–£–ë–†", retailPrice:12990, b2bPrice:11290, badges:["–ù–æ–≤–∏–Ω–∫–∞"] },
      { id:4, name:"–ò–Ω–≤–µ—Ä—Ç–æ—Ä–Ω—ã–π —Å–≤–∞—Ä–æ—á–Ω—ã–π –∞–ø–ø–∞—Ä–∞—Ç 220–ê", category:"welding", sku:"WELD-220i", brand:"Metabo", retailPrice:23990, b2bPrice:21490, badges:[] },
      { id:5, name:"–í—ã—à–∫–∞-—Ç—É—Ä–∞ 6–º (–∫–æ–º–ø–ª–µ–∫—Ç)", category:"scaffold", sku:"TOWER-6", brand:"Bosch", retailPrice:74990, b2bPrice:69990, badges:[] },
      { id:6, name:"–©–∏—Ç–æ–≤–∞—è –æ–ø–∞–ª—É–±–∫–∞ 1.5√ó3–º", category:"formwork", sku:"FORM-15x30", brand:"DeWalt", retailPrice:19990, b2bPrice:17990, badges:["–•–∏—Ç"] },
      { id:7, name:"–ê–ª–º–∞–∑–Ω–∞—è –∫–æ—Ä–æ–Ω–∫–∞ √ò82–º–º", category:"consumables", sku:"CRN-82", brand:"Hilti", retailPrice:4990, b2bPrice:4490, badges:[] },
      { id:8, name:"–®–ª–∏—Ñ–æ–≤–∞–ª—å–Ω–∞—è –º–∞—à–∏–Ω–∞ GA9050", category:"cutting", sku:"GA9050", brand:"Makita", retailPrice:11990, b2bPrice:10490, badges:[] },
      { id:9, name:"–ë–µ—Ç–æ–Ω–æ—Å–º–µ—Å–∏—Ç–µ–ª—å 180–ª", category:"concrete", sku:"CM-180", brand:"–í–∏—Ö—Ä—å", retailPrice:34990, b2bPrice:31990, badges:["–°–∫–∏–¥–∫–∞"] },
      { id:10, name:"–°—Ç–∞–Ω–∏–Ω–∞ –¥–ª—è –±—É—Ä–µ–Ω–∏—è DMS-240", category:"drilling", sku:"DMS-240", brand:"Hilti", retailPrice:89900, b2bPrice:82900, badges:[] },
      { id:11, name:"–ö–æ–º–ø–ª–µ–∫—Ç –ª–µ—Å–æ–≤ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã—Ö 60–º¬≤", category:"scaffold", sku:"LS-60", brand:"Bosch", retailPrice:159900, b2bPrice:149900, badges:[] },
      { id:12, name:"–≠–ª–µ–∫—Ç—Ä–æ–¥—ã –ú–†-3 3–º–º (5–∫–≥)", category:"welding", sku:"EL-MP3-3", brand:"–ó–£–ë–†", retailPrice:1990, b2bPrice:1690, badges:[] },{ id: 1, name: "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∞–ª–º–∞–∑–Ω–æ–≥–æ –±—É—Ä–µ–Ω–∏—è DME-200", category: "drilling", sku: "DME200-001", brand: "Husqvarna", retailPrice: 184900, b2bPrice: 167900, badges: ["–•–∏—Ç"] },
{ id: 2, name: "–û—Ç—Ä–µ–∑–Ω–∞—è –º–∞—à–∏–Ω–∞ –±–µ–Ω–∑–∏–Ω–æ–≤–∞—è K770", category: "cutting", sku: "K770-125", brand: "Husqvarna", retailPrice: 129900, b2bPrice: 118900, badges: ["–¢–æ–ø-–≤—ã–±–æ—Ä"] },
{ id: 3, name: "–ú–∏–∫—Å–µ—Ä –¥–ª—è —Ä–∞—Å—Ç–≤–æ—Ä–∞ 1600–í—Ç", category: "concrete", sku: "MIX-1600", brand: "–ó–£–ë–†", retailPrice: 12990, b2bPrice: 11290, badges: ["–ù–æ–≤–∏–Ω–∫–∞"] },
{ id: 4, name: "–ò–Ω–≤–µ—Ä—Ç–æ—Ä–Ω—ã–π —Å–≤–∞—Ä–æ—á–Ω—ã–π –∞–ø–ø–∞—Ä–∞—Ç 220–ê", category: "welding", sku: "WELD-220i", brand: "Metabo", retailPrice: 23990, b2bPrice: 21490, badges: [] },
{ id: 5, name: "–í—ã—à–∫–∞-—Ç—É—Ä–∞ 6–º (–∫–æ–º–ø–ª–µ–∫—Ç)", category: "scaffold", sku: "TOWER-6", brand: "Bosch", retailPrice: 74990, b2bPrice: 69990, badges: [] },
{ id: 6, name: "–©–∏—Ç–æ–≤–∞—è –æ–ø–∞–ª—É–±–∫–∞ 1.5√ó3–º", category: "formwork", sku: "FORM-15x30", brand: "DeWalt", retailPrice: 19990, b2bPrice: 17990, badges: ["–•–∏—Ç"] },
{ id: 7, name: "–ê–ª–º–∞–∑–Ω–∞—è –∫–æ—Ä–æ–Ω–∫–∞ √ò82–º–º", category: "consumables", sku: "CRN-82", brand: "Hilti", retailPrice: 4990, b2bPrice: 4490, badges: [] },
{ id: 8, name: "–®–ª–∏—Ñ–æ–≤–∞–ª—å–Ω–∞—è –º–∞—à–∏–Ω–∞ GA9050", category: "cutting", sku: "GA9050", brand: "Makita", retailPrice: 11990, b2bPrice: 10490, badges: [] },
{ id: 9, name: "–ë–µ—Ç–æ–Ω–æ—Å–º–µ—Å–∏—Ç–µ–ª—å 180–ª", category: "concrete", sku: "CM-180", brand: "–í–∏—Ö—Ä—å", retailPrice: 34990, b2bPrice: 31990, badges: ["–°–∫–∏–¥–∫–∞"] },
{ id: 10, name: "–°—Ç–∞–Ω–∏–Ω–∞ –¥–ª—è –±—É—Ä–µ–Ω–∏—è DMS-240", category: "drilling", sku: "DMS-240", brand: "Hilti", retailPrice: 89900, b2bPrice: 82900, badges: [] },
{ id: 11, name: "–ö–æ–º–ø–ª–µ–∫—Ç –ª–µ—Å–æ–≤ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã—Ö 60–º¬≤", category: "scaffold", sku: "LS-60", brand: "Bosch", retailPrice: 159900, b2bPrice: 149900, badges: [] },
{ id: 12, name: "–≠–ª–µ–∫—Ç—Ä–æ–¥—ã –ú–†-3 3–º–º (5–∫–≥)", category: "welding", sku: "EL-MP3-3", brand: "–ó–£–ë–†", retailPrice: 1990, b2bPrice: 1690, badges: [] },
    ];

    // ===== Utils =====
    const rub = (n) => new Intl.NumberFormat("ru-RU").format(n) + " ‚ÇΩ";

    function useLocalStorageNumber(key, initial = 0) {
      const [val, setVal] = useState(() => {
        try { const raw = localStorage.getItem(key); return raw ? Number(raw) : initial; }
        catch { return initial; }
      });
      useEffect(() => { try { localStorage.setItem(key, String(val)); } catch(_){} }, [key, val]);
      return [val, setVal];
    }

    // ===== Magnet Wrapper =====
    function Magnet({ children, strength = 0.35, radius = 96, className = "", ...rest }) {
      const wrapRef = useRef(null);
      const innerRef = useRef(null);

      useEffect(() => {
        const wrap = wrapRef.current;
        const inner = innerRef.current;
        if (!wrap || !inner) return;

        function onMove(e) {
          const rect = wrap.getBoundingClientRect();
          const cx = rect.left + rect.width / 2;
          const cy = rect.top + rect.height / 2;
          const dx = e.clientX - cx;
          const dy = e.clientY - cy;
          const dist = Math.hypot(dx, dy);
          if (dist < radius) {
            gsap.to(inner, { x: dx * strength, y: dy * strength, duration: 0.35, ease: "power3.out" });
          } else {
            gsap.to(inner, { x: 0, y: 0, duration: 0.45, ease: "power3.out" });
          }
        }
        function onLeave() {
          gsap.to(inner, { x: 0, y: 0, duration: 0.45, ease: "power3.out" });
        }

        wrap.addEventListener("mousemove", onMove);
        wrap.addEventListener("mouseleave", onLeave);
        return () => {
          wrap.removeEventListener("mousemove", onMove);
          wrap.removeEventListener("mouseleave", onLeave);
        };
      }, [radius, strength]);

      return (
        <span ref={wrapRef} className={`inline-grid place-items-center ${className}`} {...rest}>
          <span ref={innerRef} className="will-change-transform">
            {children}
          </span>
        </span>
      );
    }

    // ===== Small UI =====
    const Badge = ({ children, pulse }) => (
      <span className={`inline-flex items-center rounded-full border border-neutral-300/50 px-2 py-0.5 text-xs text-neutral-700 bg-white/70 backdrop-blur ${pulse ? "animate-pulse" : ""}`}>
        {children}
      </span>
    );

    const Chip = ({ active, onClick, children }) => (
      <button
        onClick={onClick}
        className={
          "rounded-2xl px-3 py-1 text-sm border transition-all focus:outline-none focus:ring-2 focus:ring-offset-1 " +
          (active ? "bg-neutral-900 text-white border-neutral-900 shadow"
                  : "bg-white/60 border-neutral-300 text-neutral-800 hover:bg-neutral-100")
        }
      >
        {children}
      </button>
    );

    function Toast({ text, onHide }) {
      useEffect(() => {
        const t = setTimeout(onHide, 2200);
        return () => clearTimeout(t);
      }, [onHide]);
      return (
        <div className="fixed bottom-4 right-4 z-[100] rounded-xl bg-neutral-900 text-white px-4 py-3 shadow-lg">
          {text}
        </div>
      );
    }

    function QuickView({ item, onClose }) {
      const dialogRef = useRef(null);
      useEffect(() => {
        const onEsc = (e) => e.key === "Escape" && onClose();
        window.addEventListener("keydown", onEsc);
        return () => window.removeEventListener("keydown", onEsc);
      }, [onClose]);
      if (!item) return null;
      return (
        <div className="fixed inset-0 z-50 bg-black/40 backdrop-blur-sm grid place-items-center p-4" onClick={onClose}>
          <div className="w-full max-w-xl rounded-2xl bg-white shadow-2xl overflow-hidden" onClick={(e)=>e.stopPropagation()} ref={dialogRef}>
            <div className="aspect-[4/3] bg-gradient-to-br from-neutral-100 to-neutral-200 grid place-items-center">
              <div className="text-7xl opacity-20">üõ†Ô∏è</div>
            </div>
            <div className="p-5 space-y-2">
              <div className="flex gap-2 flex-wrap">
                {item.badges.map((b)=> <Badge key={b} pulse>{b}</Badge>)}
                <Badge>{item.brand}</Badge>
                <Badge>{item.sku}</Badge>
              </div>
              <h3 className="text-xl font-semibold">{item.name}</h3>
              <p className="text-sm text-neutral-600">–ö–∞—Ç–µ–≥–æ—Ä–∏—è: {categories.find(c=>c.id===item.category)?.label}</p>
              <div className="flex items-end justify-between pt-2">
                <div>
                  <div className="text-xs text-neutral-500">–†–æ–∑–Ω–∏—á–Ω–∞—è</div>
                  <div className="text-lg font-bold">{rub(item.retailPrice)}</div>
                </div>
                <div>
                  <div className="text-xs text-neutral-500">–û–ø—Ç–æ–≤–∞—è</div>
                  <div className="text-lg font-bold">{rub(item.b2bPrice)}</div>
                </div>
                <Magnet>
                  <button className="rounded-xl bg-neutral-900 text-white px-4 py-2">–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É</button>
                </Magnet>
              </div>
            </div>
          </div>
        </div>
      );
    }

    const CardSkeleton = () => (
      <div className="rounded-2xl border border-neutral-200 bg-white overflow-hidden">
        <div className="aspect-[4/3] animate-pulse bg-neutral-100" />
        <div className="p-4 space-y-2">
          <div className="h-4 w-2/3 bg-neutral-100 animate-pulse rounded" />
          <div className="h-3 w-1/2 bg-neutral-100 animate-pulse rounded" />
          <div className="h-6 w-1/3 bg-neutral-100 animate-pulse rounded" />
        </div>
      </div>
    );

    function ProductCard({ item, priceType, onQuick }) {
      const cardRef = useRef(null);
      useEffect(() => {
        gsap.fromTo(cardRef.current, { y: 12, opacity: 0 }, {
          y: 0, opacity: 1, duration: 0.5, ease: "power2.out",
          scrollTrigger: { trigger: cardRef.current, start: "top 85%" }
        });
      }, []);

      const price = priceType === "b2b" ? item.b2bPrice : item.retailPrice;
      const pLabel = priceType === "b2b" ? "–û–ø—Ç–æ–≤–∞—è" : "–†–æ–∑–Ω–∏—á–Ω–∞—è";

      return (
        <div ref={cardRef} className="group rounded-2xl border border-neutral-200 bg-white shadow-sm hover:shadow-md transition-all overflow-hidden will-change-transform hover:-translate-y-0.5">
          <div className="relative aspect-[4/3] bg-gradient-to-br from-neutral-100 to-neutral-200 grid place-items-center">
            <div className="text-5xl opacity-20 transition-transform group-hover:scale-110">üõ†Ô∏è</div>
            <button
              onClick={() => onQuick(item)}
              className="absolute bottom-2 right-2 rounded-xl border bg-white/90 backdrop-blur px-3 py-1.5 text-xs hover:bg-neutral-900 hover:text-white">
              –ë—ã—Å—Ç—Ä—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä
            </button>
          </div>
          <div className="p-4 flex flex-col gap-2">
            <div className="flex items-center gap-2 flex-wrap">
              {item.badges.map((b) => (<Badge key={b} pulse>{b}</Badge>))}
              <Badge>{item.brand}</Badge>
            </div>
            <h3 className="font-semibold leading-snug line-clamp-2" title={item.name}>{item.name}</h3>
            <div className="text-xs text-neutral-500">–ê—Ä—Ç–∏–∫—É–ª: {item.sku}</div>
            <div className="mt-2 flex items-baseline justify-between">
              <div>
                <div className="text-xs text-neutral-500">{pLabel} —Ü–µ–Ω–∞</div>
                <div className="text-lg font-bold">{rub(price)}</div>
              </div>
              <Magnet>
                <button className="rounded-xl border px-3 py-1.5 text-sm hover:bg-neutral-900 hover:text-white transition-colors">
                  –í –∫–æ—Ä–∑–∏–Ω—É
                </button>
              </Magnet>
            </div>
          </div>
        </div>
      );
    }

    // ===== Main App =====
    function CatalogPreview() {
      const [query, setQuery] = useState("");
      const [activeCats, setActiveCats] = useState(["drilling","cutting","concrete"]);
      const [priceType, setPriceType] = useState("retail");
      const [loading, setLoading] = useState(false);
      const [toast, setToast] = useState(null);
      const [cartCount, setCartCount] = useLocalStorageNumber("cart_count", 0);
      const [quickItem, setQuickItem] = useState(null);
      const [heroIdx, setHeroIdx] = useState(0);
      const [showB2B, setShowB2B] = useState(false);

      const heroRef = useRef(null);
      const heroEmojiRef = useRef(null);

      // Hero slider
      const heroScenes = ["üèóÔ∏è","üß±","ü™ö","‚öôÔ∏è","üî©"];
      useEffect(() => {
        const t = setInterval(() => setHeroIdx(i => (i + 1) % heroScenes.length), 2400);
        return () => clearInterval(t);
      }, []);

      // Parallax by mouse
      useEffect(() => {
        const el = heroRef.current;
        const icon = heroEmojiRef.current;
        if (!el || !icon) return;
        function onMove(e) {
          const r = el.getBoundingClientRect();
          const x = (e.clientX - (r.left + r.width / 2)) / (r.width / 2);
          const y = (e.clientY - (r.top + r.height / 2)) / (r.height / 2);
          gsap.to(icon, { x: x * 24, y: y * 18, rotate: x * 3, duration: 0.5, ease: "power3.out" });
        }
        function onLeave() {
          gsap.to(icon, { x: 0, y: 0, rotate: 0, duration: 0.6, ease: "power3.out" });
        }
        el.addEventListener("mousemove", onMove);
        el.addEventListener("mouseleave", onLeave);
        return () => { el.removeEventListener("mousemove", onMove); el.removeEventListener("mouseleave", onLeave); };
      }, []);

      // Scroll parallax for hero
      useEffect(() => {
        const icon = heroEmojiRef.current;
        if (!icon) return;
        gsap.fromTo(icon, { y: 0, scale: 1, opacity: 1 }, {
          y: -40, scale: 1.06, opacity: 0.95, ease: "none",
          scrollTrigger: { trigger: icon, start: "top 60%", end: "+=400", scrub: true }
        });
      }, []);

      // Debounce search (–ø—Å–µ–≤–¥–æ-–∑–∞–≥—Ä—É–∑–∫–∞)
      const [debouncedQuery, setDebouncedQuery] = useState("");
      useEffect(() => {
        setLoading(true);
        const t = setTimeout(() => { setDebouncedQuery(query); setLoading(false); }, 350);
        return () => clearTimeout(t);
      }, [query, activeCats]);

      // Sticky B2B bar
      useEffect(() => {
        const onScroll = () => setShowB2B(window.scrollY > 500);
        window.addEventListener("scroll", onScroll, { passive: true });
        onScroll();
        return () => window.removeEventListener("scroll", onScroll);
      }, []);

      const filtered = useMemo(() => {
        const q = debouncedQuery.trim().toLowerCase();
        return ITEMS.filter((it) => {
          const inCat = activeCats.length ? activeCats.includes(it.category) : true;
          const inQ = q ? `${it.name} ${it.sku} ${it.brand}`.toLowerCase().includes(q) : true;
          return inCat && inQ;
        });
      }, [debouncedQuery, activeCats]);

      const toggleCat = (id) => setActiveCats(prev => prev.includes(id) ? prev.filter(x => x !== id) : [...prev, id]);
      const addToCart = () => { setCartCount(n => n + 1); setToast("–¢–æ–≤–∞—Ä –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–æ—Ä–∑–∏–Ω—É"); };

      return (
        <div className="min-h-screen bg-gradient-to-b from-neutral-50 to-white text-neutral-900">
          {/* Top Bar */}
          <div className="w-full border-b bg-white/90 backdrop-blur sticky top-0 z-30">
            <div className="mx-auto max-w-7xl px-4 py-3 flex items-center justify-between">
              <div className="flex items-center gap-3">
                <div className="size-9 grid place-items-center rounded-xl bg-neutral-900 text-white font-bold">SC</div>
                <div>
                  <div className="font-semibold leading-tight">–°–¢–†–û–ô–ö–ê–¢–ê–õ–û–ì</div>
                  <div className="text-xs text-neutral-500">–ú–æ–Ω—Ç–∞–∂–Ω–æ–µ –∏ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ</div>
                </div>
              </div>
              <div className="hidden md:flex items-center gap-6 text-sm">
                <a href="#catalog" className="hover:underline">–ö–∞—Ç–∞–ª–æ–≥</a>
                <a href="#brands" className="hover:underline">–ë—Ä–µ–Ω–¥—ã</a>
                <a href="#b2b" className="hover:underline">–û–ø—Ç</a>
                <a href="#delivery" className="hover:underline">–î–æ—Å—Ç–∞–≤–∫–∞</a>
                <a href="#contacts" className="hover:underline">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
              </div>
              <div className="flex items-center gap-2">
                <button className="rounded-xl border px-3 py-1.5 text-sm">–í–æ–π—Ç–∏</button>
                <Magnet>
                  <button className="relative rounded-xl bg-neutral-900 text-white px-3 py-1.5 text-sm">
                    –ö–æ—Ä–∑–∏–Ω–∞
                    <span className="absolute -top-2 -right-2 min-w-6 h-6 px-1 grid place-items-center rounded-full bg-amber-400 text-black text-xs font-bold">
                      {cartCount}
                    </span>
                  </button>
                </Magnet>
              </div>
            </div>
          </div>

          {/* Hero */}
          <section className="mx-auto max-w-7xl px-4 py-10 md:py-14">
            <div className="grid md:grid-cols-2 gap-8 items-center">
              <div>
                <h1 className="text-3xl md:text-5xl font-extrabold leading-tight">
                  –ö–∞—Ç–∞–ª–æ–≥ –º–æ–Ω—Ç–∞–∂–Ω–æ–≥–æ –∏ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω–æ–≥–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è
                  <span className="block text-neutral-500 text-xl md:text-2xl mt-2 font-medium">
                    –û–ø—Ç –∏ —Ä–æ–∑–Ω–∏—Ü–∞ ‚Ä¢ 10‚Äì15 —Ç—ã—Å. SKU ‚Ä¢ –ë—ã—Å—Ç—Ä–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å 1–°
                  </span>
                </h1>
                <div className="mt-6 flex flex-wrap gap-3">
                  <Badge>1–° (CommerceML)</Badge>
                  <Badge>YML/XML/CSV</Badge>
                  <Badge>–ú—É–ª—å—Ç–∏—Ü–µ–Ω—ã: –æ–ø—Ç/—Ä–æ–∑–Ω–∏—Ü–∞</Badge>
                  <Badge>–û—Å—Ç–∞—Ç–∫–∏ –∏ —Ä–µ–∑–µ—Ä–≤—ã</Badge>
                </div>
                <div className="mt-6 flex gap-3">
                  <Magnet><button className="rounded-xl bg-neutral-900 text-white px-5 py-3 will-change-transform">–°–∫–∞—á–∞—Ç—å –∫–∞—Ç–∞–ª–æ–∂–Ω—ã–π PDF</button></Magnet>
                  <Magnet><button className="rounded-xl border px-5 py-3 will-change-transform">–°–º–æ—Ç—Ä–µ—Ç—å —Ö–∏—Ç—ã</button></Magnet>
                </div>
              </div>
              <div ref={heroRef} className="relative aspect-[4/3] md:aspect-[5/3] rounded-3xl overflow-hidden">
                <div className="absolute inset-0 bg-gradient-to-br from-neutral-200 to-neutral-100" />
                <div className="absolute inset-0 grid place-items-center will-change-transform">
                  <div ref={heroEmojiRef} className="text-7xl md:text-8xl opacity-20 transition-all duration-700 ease-out scale-110">
                    {heroScenes[heroIdx]}
                  </div>
                </div>
                <div className="absolute bottom-3 left-0 right-0 flex justify-center gap-2">
                  {heroScenes.map((_, i) => (
                    <span key={i} className={`w-2 h-2 rounded-full ${i===heroIdx?"bg-neutral-900":"bg-neutral-400/50"}`} />
                  ))}
                </div>
              </div>
            </div>
          </section>

          {/* Controls */}
          <section className="border-t bg-white/70">
            <div className="mx-auto max-w-7xl px-4 py-5 flex flex-col md:flex-row gap-4 items-center justify-between">
              <div className="flex items-center gap-2 w-full md:w-auto">
                <input
                  value={query}
                  onChange={(e) => setQuery(e.target.value)}
                  placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é, –∞—Ä—Ç–∏–∫—É–ª—É, –±—Ä–µ–Ω–¥—É"
                  className="w-full md:w-[26rem] rounded-xl border px-4 py-2.5 outline-none focus:ring-2"
                />
                <div className="flex items-center gap-2 rounded-xl border px-1 py-1">
                  <Magnet><button onClick={() => setPriceType("retail")} className={`px-3 py-1.5 rounded-lg text-sm ${priceType === "retail" ? "bg-neutral-900 text-white" : ""}`}>–†–æ–∑–Ω–∏—Ü–∞</button></Magnet>
                  <Magnet><button onClick={() => setPriceType("b2b")} className={`px-3 py-1.5 rounded-lg text-sm ${priceType === "b2b" ? "bg-neutral-900 text-white" : ""}`}>–û–ø—Ç</button></Magnet>
                </div>
              </div>
              <div className="flex gap-2 flex-wrap">
                {categories.map((c) => (
                  <Chip key={c.id} active={activeCats.includes(c.id)} onClick={() => (activeCats.includes(c.id) ? setActiveCats(activeCats.filter(x => x !== c.id)) : setActiveCats([...activeCats, c.id]))}>
                    {c.label}
                  </Chip>
                ))}
              </div>
            </div>
          </section>

          {/* Promo strip */}
          <div className="border-y bg-amber-50 text-amber-900">
            <div className="mx-auto max-w-7xl px-4 py-2 text-sm flex items-center gap-3">
              <span className="text-lg">‚ö°</span>
              <span>–°–µ–Ω—Ç—è–±—Ä—å: –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Å–∫–∏–¥–∫–∞ 5% –Ω–∞ –∞–ª–º–∞–∑–Ω–æ–µ —Å–≤–µ—Ä–ª–µ–Ω–∏–µ –ø—Ä–∏ –æ–ø—Ç–æ–≤–æ–º –∑–∞–∫–∞–∑–µ –æ—Ç 200 000 ‚ÇΩ</span>
            </div>
          </div>

          {/* Catalog */}
          <section id="catalog" className="mx-auto max-w-7xl px-4 py-10">
            <div className="flex items-end justify-between mb-5">
              <h2 className="text-2xl md:text-3xl font-bold">–¢–æ–≤–∞—Ä—ã ‚Ä¢ {loading ? "‚Ä¶" : filtered.length}</h2>
              <div className="flex items-center gap-2">
                <select className="rounded-xl border px-3 py-2 text-sm">
                  <option>–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é</option>
                  <option>–¶–µ–Ω–∞: –ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é</option>
                  <option>–¶–µ–Ω–∞: –ø–æ —É–±—ã–≤–∞–Ω–∏—é</option>
                  <option>–ù–æ–≤–∏–Ω–∫–∏</option>
                </select>
                <Magnet><button className="text-sm rounded-xl border px-3 py-1.5">–≠–∫—Å–ø–æ—Ä—Ç –≤ Excel</button></Magnet>
              </div>
            </div>
            <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4">
              {loading
                ? Array.from({ length: 8 }).map((_, i) => <CardSkeleton key={i} />)
                : filtered.map((it) => <ProductCard key={it.id} item={it} priceType={priceType} onQuick={(item)=>setQuickItem(item)} />)}
            </div>
          </section>

          {/* Brands */}
          <section id="brands" className="border-t bg-white">
            <div className="mx-auto max-w-7xl px-4 py-10">
              <h3 className="text-lg font-semibold mb-4">–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –±—Ä–µ–Ω–¥—ã</h3>
              <div className="grid grid-cols-2 sm:grid-cols-4 md:grid-cols-8 gap-3">
                {BRANDS.map((b) => (
                  <div key={b} className="h-16 rounded-xl border grid place-items-center text-neutral-500 hover:bg-neutral-50 transition-colors">{b}</div>
                ))}
              </div>
            </div>
          </section>

          {/* B2B Features */}
          <section id="b2b" className="mx-auto max-w-7xl px-4 py-10">
            <div className="grid md:grid-cols-3 gap-5">
              {[
                { t: "–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å 1–°", d: "–û–±–º–µ–Ω –ø–æ CommerceML: —Ü–µ–Ω—ã, –æ—Å—Ç–∞—Ç–∫–∏, —Ä–µ–∑–µ—Ä–≤—ã, —Å—Ç–∞—Ç—É—Å—ã –∑–∞–∫–∞–∑–æ–≤." },
                { t: "–ò–º–ø–æ—Ä—Ç—ã –æ—Ç –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤", d: "–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∏–º–ø–æ—Ä—Ç–∞ –∏–∑ YML/XML/CSV, –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è/–¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è." },
                { t: "–û–ø—Ç–æ–≤—ã–µ —É—Å–ª–æ–≤–∏—è", d: "–¢–∏–ø—ã —Ü–µ–Ω, –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –ø—Ä–∞–π—Å—ã –∏ —Å–∫–∏–¥–æ—á–Ω—ã–µ –º–∞—Ç—Ä–∏—Ü—ã –¥–ª—è –¥–∏–ª–µ—Ä–æ–≤." },
              ].map((f, i) => (
                <div key={i} className="rounded-2xl border p-5 bg-white">
                  <div className="text-3xl mb-2">{i === 0 ? "üîÑ" : i === 1 ? "üì¶" : "üíº"}</div>
                  <div className="font-semibold mb-1">{f.t}</div>
                  <div className="text-sm text-neutral-600">{f.d}</div>
                </div>
              ))}
            </div>
          </section>

          {/* CTA */}
          <section className="border-t bg-gradient-to-br from-neutral-900 to-neutral-800 text-white">
            <div className="mx-auto max-w-7xl px-4 py-10 grid md:grid-cols-2 gap-6 items-center">
              <div>
                <h3 className="text-2xl md:text-3–ª font-bold">–ì–æ—Ç–æ–≤—ã –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø–æ–¥ –∫–ª—é—á</h3>
                <p className="mt-2 text-neutral-300">–ü–æ–¥–∫–ª—é—á–∏–º 1–°, –Ω–∞—Å—Ç—Ä–æ–∏–º –∏–º–ø–æ—Ä—Ç—ã –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤, —Å–æ–∑–¥–∞–¥–∏–º –≤–∏—Ç—Ä–∏–Ω—ã –¥–ª—è –æ–ø—Ç–æ–≤—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ –∏ —Ä–æ–∑–Ω–∏—Ü—ã.</p>
              </div>
              <div className="flex gap-3 md:justify-end">
                <Magnet><button className="rounded-xl bg-white text-neutral-900 px-5 py-3">–ó–∞–ø—Ä–æ—Å–∏—Ç—å —Å–º–µ—Ç—É</button></Magnet>
                <Magnet><button className="rounded-xl border border-white/40 px-5 py-3">–ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞</button></Magnet>
              </div>
            </div>
          </section>

          {/* Footer */}
          <footer id="contacts" className="bg-white border-t">
            <div className="mx-auto max-w-7xl px-4 py-8 text-sm text-neutral-600 grid md:grid-cols-3 gap-4">
              <div>
                <div className="font-semibold text-neutral-900">–°–¢–†–û–ô–ö–ê–¢–ê–õ–û–ì</div>
                <div>¬© {new Date().getFullYear()} –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã</div>
              </div>
              <div>
                <div className="font-medium text-neutral-900 mb-1">–î–æ–∫—É–º–µ–Ω—Ç—ã</div>
                <ul className="space-y-1">
                  <li><a className="hover:underline" href="#">–ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</a></li>
                  <li><a className="hover:underline" href="#">–î–æ–≥–æ–≤–æ—Ä –æ—Ñ–µ—Ä—Ç—ã</a></li>
                </ul>
              </div>
              <div>
                <div className="font-medium text-neutral-900 mb-1">–°–≤—è–∑—å</div>
                <ul className="space-y-1">
                  <li>sales@example.com</li>
                  <li>+7 (000) 000-00-00</li>
                </ul>
              </div>
            </div>
          </footer>

          {/* Quick View & Toast */}
          {quickItem && <QuickView item={quickItem} onClose={()=>setQuickItem(null)} />}
          {toast && <Toast text={toast} onHide={()=>setToast(null)} />}

          {/* Sticky B2B bar */}
          {showB2B && (
            <div className="fixed bottom-0 left-0 right-0 z-40">               
            </div>
          )}
        </div>
      );
    }

    const root = ReactDOM.createRoot(document.getElementById("root"));
    root.render(<CatalogPreview />);
  </script>
</body>
</html>
